use bytes::{Bytes, BytesMut};
//////////////////////////////////////////////////////////////
/// 编码
//////////////////////////////////////////////////////////////
pub trait Encoder: Sync + Send + 'static {
    type Error;
    fn encode(&self, buffer: &mut BytesMut) -> Result<usize, Self::Error>;
}

//////////////////////////////////////////////////////////////
/// 解码
//////////////////////////////////////////////////////////////
pub trait Decoder: Sync + Sized + Send + 'static {
    // 错误类型
    type Error;
    // 将bytes解析为对应的报文
    fn decode(bytes: Bytes) -> Result<Self, Self::Error>;
}
